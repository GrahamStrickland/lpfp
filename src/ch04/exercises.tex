% Answers for exercises in ch04

\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}

\title{Learn Physics with Functional Programming - Scott N. Walck - Chapter 4: Exercises}
\author{Graham Strickland}

\begin{document}
\maketitle  

\begin{itemize}
    \item[4.2]
    For $f(x) = x^3$, we have $f'(x) = 3x^2$, so that the relative error is defined by
    \begin{equation*}
        \begin{split}
            \text{err}(a) &= \left| \frac{f(x + a/2) - f(x - a/2)}{a} - 3x^2 \right| \\
            &= \left| \frac{(x + a/2)^3 - (x - a/2)^3}{a} - 3x^2 \right| \\
            &= \left| \frac{\splitfrac{[x^3 + (3x^2a)/2 + (3xa^2)/4 + a^3/8]}
                {{} - [x^3 - (3x^2a)/2 + (3xa^2)/4 - a^3/8]}}{a} - 3x^2 \right| \\
            &= \left| \frac{3x^2a + a^3/4 - 3x^2a}{a} \right| \\
            &= \left| \frac{a^3}{4} \right|.
        \end{split}
    \end{equation*}
    \qquad Thus we have an error of 1 percent if 
    \begin{equation*}
        \begin{split}
            \text{err}(a) &= 0.01 \\
            \Leftrightarrow \left|\frac{a^3}{4}\right| &= 0.01 \\
            \Leftrightarrow \frac{a^3}{4} &= \pm 0.01 \\
            \Leftrightarrow a^3 &= \pm 0.04 \\
            \Leftrightarrow a &= \pm {0.04}^{(1/3)},
        \end{split}
    \end{equation*}
    which is valid for $x = 4$ and $x = 0.1$, since $\text{err}(a)$ does not depend on $x$.
    \item[4.3]  % TODO: This is not correct
    Suppose we have a funtion $f$ and independent variable, say $x$, such that 
    \verb|derivative 0.01 f x| produces at least a 10 percent error, err($\epsilon$), compared to 
    the exact derivative, $f'(x)$. Then, we have
    \begin{equation*}
        \begin{split}
            \text{err}(\epsilon) = \left| \frac{f(x + \epsilon/2) - f(x - \epsilon/2)}{\epsilon} - 
            f'(x) \right|
            &\leq 0.1 \\
            \Leftrightarrow \left| \frac{f(x + 0.01/2) - f(x - 0.01/2)}{0.01} - f'(x) \right| 
            &\leq 0.1 \\
            \Leftrightarrow -0.1 \leq \frac{f(x + 0.02) - f(x - 0.02)}{0.01} - f'(x) 
            &\leq 0.1 \\
            \Leftrightarrow -0.001 \leq f(x + 0.02) - f(x - 0.02) - 0.01f'(x) &\leq 0.001.
        \end{split}
    \end{equation*}
    \qquad Now, if we let $f(x) = x^2$ and $x = 0$, we have $f'(x) = 2x$ and thus
    \begin{equation*}
        \begin{split}
            f(x + 0.02) - f(x - 0.02) - 0.01f'(x)
            &= {(0.02)}^2 - (-0.02)^2 - 0.01\cdot2\cdot0 \\
            &= 0.004 - 0.004 \\
            &= 0.0,
        \end{split}
    \end{equation*}
    so that we have
    \[
        \Leftrightarrow -0.001 \leq f(x + 0.02) - f(x - 0.02) - 0.01f'(x) \leq 0.001
    \]
    and $f(x) = x^2$ for $x = 0$ is such that \verb|derivative 0.01 f x| produces at least a 
    10 percent error.
\end{itemize}

\end{document}

